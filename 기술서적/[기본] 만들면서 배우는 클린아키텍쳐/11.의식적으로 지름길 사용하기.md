# 11 의식적으로 지름길 사용하기

## 왜 지름길은 깨진 창문 같을까?
품질이 떨어진 코드에서 작업할 때 더 낮은 품질의 코드를 추가하기 쉽다. 

## 깨끗한 상태로 시작할 책임
깨진 창문 효과를 대입해 본다면 가능하면 지름길을 쓰지 않고 기술 부채를 지지 않은 채로 프로젝트를 깨끗하게 시작하는 것이 중요하다. 

그러나 때로는 지름길을 취하는게 더 실용적일 때가 있는데, 그리 중요하지 않은 부분이거나, 프로토타이핑 작업 중이거나, 경제적인 이유가 있을 수 있다. 
- 이런 작업에 대해서는 잘 기록해둬야한다. 

## 유스케이스간 모델 공유하기
케이스
- 2개 이상의 유스케이스가 같은 입력 모델을 공유하는 예시

유스케이스간 입출력 모델을 공유하는 것은 유스케이스들이 기능적으로 묶여 있을 때 유효하다. 특정 세부사항을 변경할 경우 실제로 두 유스케이스 모두에 영향을 주고 싶은 경우.

두 유스케이스가 서로 간에 미치는 영향이 없이 독립적이라면, 입출력 클래스를 분리하더라도 일단 분리해서 시작해야한다. 

## 도메인 엔티티를 입출력 모델로 사용하기
케이스
- 유스케이스의 입력 모델을 도메인 모델로 사용하는 경우
- 유스케이스에서 도메인 모델로 의존성이 생긴다

도메인 모델에 없는 정보를 유스케이스가 가져야할 경우에 도메인 모델에 이 필드를 추가하고 싶은 생각이 든다. 

이 지름길이 위험한 이유는 많은 유스케이스가 간단한 생성 또는 업데이트 유스케이스로 시작해서 시간이 지나면 복잡한 로직 괴물이 되어가기 때문이다. 따라서 처음에는 도메인 모델을 유스케이스 입력 모델로 사용했더라도 독립적인 전용 입력 모델로 교체해야 하는 시점을 잘 파악해야 한다. 

## 인커밍 포트 건너뛰기
케이스
- 포트 없이 웹 어댑터에서 서비스를 바로 참조하는 경우

아웃고잉 포트는 영속성 계층과의 의존성 역전 때문에 필수 요소이지만, 인커밍 포트는 의존성 역전에 필수적인 요소는 아니다. 인커밍 어댑터가 서비스에 직접 접근할 수 있다는 말이다. 

인커밍 포트가 왜 필요할까?
- 인커밍 포트는 애플리케이션의 접근 진입점을 정의한다
- 인커핑 포트가 없으면 어댑터가 어떤 메서드를 호출할지 판단해야하니까 애플리케이션 내부 동작을 잘 알아야한다. 
- 인커핑 포트를 통해서 어댑터가 서비스가 아니라 포트만 호출하게 할 수 있다

## 애플리케이션 서비스 건너뛰기
케이스
- 영속성 계층에서 인커밍 포트를 직접 구현하는 경우

단순한 CRUD라면 상관 없지만, 복잡해지면 도메인 로직이 흩어져서 영속성 계층에 도메인 로직이 들어가거나, 유지보수하기 어려워진다. 

