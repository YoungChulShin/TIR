# 09 애플리케이션 조립하기
## 왜 조립을 신경써야할까?
왜 유스케이스와 어댑터를 필요할 때 인스턴스화 하면 안되는걸까?
- 모든 의존성을 안쪽으로 가져가기 위함이다. 유스케이스가 영속성 어댑터를 직접 호출하고 인스턴스화 한다면 의존성 방향이 바깥으로 향하게 된다. 

객체 생성은 누구에게 책임이 있을까? 어떻게 의존성 규칙을 어기지 않으면서 생성할 수 있을까?
- 설정 컴포넌트가 있어야한다. 
   - 설정 컴포넌트는 아키텍쳐에 대해 중립적이고, 인스턴스 생성을 위해서 모든 클래스에 대한 의존성을 가져야한다.
- 설정 컴포넌트는 원의 가장 바깥쪽에 위치한다. 
![9-2](/Images/만들면서배우는클린아키텍쳐/9-1.jpg)

## 스프링의 클래스패스 스캐닝으로 조립하기
`@Compoment`애노테이션을 클래스에 붙이면 스프링이 인스턴스를 생성한다
- 스프링은 클래스패스 스캐닝으로 클래스패스에서 접근 가능한 모든 클래스를 확인해서 Component 애너테이션이 붙은 클래스를 찾고, 인스턴스를 생성한다. 

단점
- 클래스에 프레임워크에 특화된 애너테이션이 붙게 된다
- 라이브러리를 개발할 때에는 라이브러리에 대한 의존성이 붙게 되므로 사용하지 말아야한다

## 스프링의 자바 컨피그로 조립하기
`@Configuration` 애노테이션과 `@Bean` 애노테이션을 이용하면 인스턴스를 생성할 수 있다. 

소스코드에 프레임워크의 코드가 들어가지 않고 의존성 없이 깔끔하게 유지할 수 있다. 

단점
- 설정 클래스가 생성하는 빈이 같은 패키지에 없다면 빈을 public으로 만들어야한다. 