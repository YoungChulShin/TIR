## 도메인 모델 내의 팩토리
팩토리 사용의 동기 (by 에반스)
- 복잡한 객체와 애그리게잇 인스턴스를 생성하는 책임을 별도의 객체로 이동
- 조립 과정을 캡슐화

도메인 모델 내의 팩토리의 책임
1. 특정한 애그리게잇 타입만을 인스턴스화 하기 위한 팩토리 자체의 기능
2. 애그리게잇 루트에서의 팩토리는 다른 애그리게잇 (또는 내부 파트)를 생성하는 하나의 메소드인데, 애그리게잇 루트를 기준으로 보면 주요 애그리게잇 행동을 제공할 책임을 가지고 있다

애그리게잇의 팩토리 메소드
- 캡슐화: 애그리게잇 생성 과정 주으이 일부 세부 사항이 잘못된 상태를 갖지 않도록 보호
- 유비쿼터스 언어를 표현: 행동에 관한 메서드의 이름을 통해서 유비쿼터스 언어를 표현. 생성자만으로는 불가능 했던 방식.

추상 팩토리의 이점
- 팩토리가 구체적 타입을 결정할 수 있는 기본 매개변수만 제공하면 그에 맞는 타입을 생성해준다

## 애그리게잇 루트상의 팩토리 메소드
### CalendarEntry 인스턴스 생성하기
팩토리 메소드
|바운디드 컨텍스트|애그리게잇|팩토리 메소드|
|-------------|-------|----------|
|협업 컨텍스트   |Caldenar|__scheduleCalendarEntry()__|

테스트 코드를 먼저 봅시다
~~~java
// CalendarEntry 생성
public class CaldendarTest extends DomainTest {
    private CaldendarEntry caldendarEntry;
    private CaldendarEntryId caldendarEntryId;

    private void testCreateCalendarEntry() throws Exception {

    }
}

// CalendarEntry 팩토리 메소드 구현
~~~

예제 코드 특징
- `'CalendarEntry'`의 생성자는 11개의 매개변수를 필요로 하는데, `'scheduleCalendarEntry()'`는 9개의 매개변수를 가진다
   - 앞에서 말한 캡슐화를 통해서 잘못 생성이 되는 것을 방지
- `'scheduleCalendarEntry()'` 의 이름이 `'캘린더가 캘린더 엔트리를 스케쥴한다'`라는 시나리오를 잘 표현한다
   - 앞에서 말한 유비쿼터스 언어를 잘 표현한다는 것을 설명
   - 이 방법을 사용하면 애그리게잇 생성자 전체가 클라이언트로 부터 감춰져야 한다
      ~~~java
      public class CalendarEntry extends Entity {
          protected CalendarEntry( .. )  { .. }
      }
      ~~~