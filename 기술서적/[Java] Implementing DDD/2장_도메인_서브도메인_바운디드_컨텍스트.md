이 장에서 분명하게 이해해야 하는 3가지
- 여러분의 도메인이 무엇인지
- 여러분의 서브도메인이 무엇인지
- 여러분의 바운디드 컨텍스트가 무엇인지

## 큰 그림
도메인 정의
- 넓은 의미에서 도메인이란 한 조직이 행하는 일과 그 조직 안의 세계를 일컫는다.
- 한가지 알아둘 점은 '도메인' 이란 용어가 다소 여러 의미를 가진다
   - 비지니스의 전체 도메인
   - 한 가지 핵심 부분이나 다른 지원 분야

도메인 모델
- 조직의 전체 도메인은 여러 서브도메인으로 이뤄져 있다
- DDD를 사용하 ㄹ때 모델은 바운디드 컨텍스트 안에서 만들어진다
- 전체 비즈니스 도메인을 고유의 한 영역으로 적극적으로 분리하는 것이 성공적인 모델을 만드는데 도움이 된다

서브도메인과 바운디드 컨텍스트의 활용
- 많은 소프트웨어 개발자가 최대한 모든 것을 하나의 시스템으로 묶어 만드는 것이 현명하다고 생각하고 있기 때문에 특히 더 안타깝다
- 많은 기능에 하나에 묶이게 되면 모든 것이 서로 연결돼 다른 모든 것과 서로 의존성을 갖기 때문에, 여러 서브도메인으로 나눌 수도 있는 소프트웨어 도메인 모델을 굳이 구분 짓지 않는다면 변화가 계속됨에 따라 훨씬 큰 부담을 지게 된다
- 서브도메인이 항상 큰 크기와 기능을 가진 특별한 모델을 포함하는 것은 아니며, 때로는 일련의 알고리즘 같은 간단한 형태일 수 있다. 

도메인 용어의 충돌
- 하나의 바운디드 컨텍스트당 하나의 서브도메인이 있는 것은 아니지만, 그럴 경우도 있다는 점을 기억하자
- 책의 예시에 있는 전자상거래 시스템의 경우, 시스템 안에 네 개의 서브도메인이 있다는 점을 고려해보면, 용어와 의미가 충돌하리라는 점이 거의 확실하다
- 시스템을 둘러보면 여러 의미를 내포하고 있는 다른 용어를 찾을 수 있다 (책의 경우 고객)
   - 도메인 개념에 이름을 붙이기 위해 각 용어의 의미를 명시적으로 지정했다면, 이는 깔끔한 바운디드컨텍스트가 아니다
- DDD를 사용하면 각 개념을 잘 이해하고 분명하게 이야기하고 있는 그대로 모델링할 수 있도록 해준다.<br>
도메인 전문가가 이런 개념을 설명하는 방향에 따라, 일부 개념을 다른 바운디드 컨텍스트로 분리하게 된다

핵심 도메인에 집중하기
- 핵심 도메인은 그 조직의 성공에 가장 중요한 비즈니스 도메인의 한 부분이다. 전략적 츤면에서 비즈니스는 핵심 도메인에서 탁월함을 보여줘야 한다. 
- DDD 프로젝트에 투입되는 노력의 대부분은 핵심 도메인에 초점이 맞춰져야 한다. 
- 지원 서비시스템
   - 어느정도 비즈니스에 필수적이기는 하나 핵심은 아닌 부분을 모델링하는 것
- 범용 서브도메인
   - 비즈니스적으로 특화된 부분을 찾을 수 없지만 전체 비즈니스 솔루션에 필요한 것

## 왜 전략적 설계가 엄청나게 필수적인가
사스오베이션 프로젝트 예시
- 대부분의 개발자가 그렇듯 엔터티와 값 객체의 상세내용에 초점을 맞췄는데 이는 더 큰 그림의 비전을 가렸다
- 핵심 개념을 범용 개념과 혼용했고, 이는 두가지 모델을 하나로 만들어버렸다

## 현실의 도메인과 서브도메인
문제점 공간
- 우리에게 풀어야 할 전략적 비즈니스 문제점

해결책 공간
- 비즈니스 문제점을 풀어줄 소프트웨어를 구현하는 방법에 초점을 맞춘다

프로젝트를 바른 방향으로 가기 전환하기 위한 질문
- 전략적 핵심 도메인의 이름과 비전은 무엇인가?
- 어떤 개념을 전략적 핵심 도메인의 일부로 고려할 것인가?
- 필요한 지원 서브도메인과 범용 서브도메인은 무엇인가?
- 도메인의 각 분야에선 누가 일하나?
- 올바른 팀이 조직될 수 있는가?

핵심 도메인과 이를 지원하기 위한 필요한 도메인 영역의 비전과 목표를 이해하지 못한다면, 연관된 함정을 피하기 위해 이를 적략적으로 활용하지 못한다. 

## 바운디드 컨텍스트 이해하기
바운디드 컨텍스트
- 바운디드 컨텍스트는 그 안에 도메인 모델이 존재하는 명시적 경계이다
- 도메인 모델은 소프트웨어 모델로서 유비쿼터스 언어를 표현한다

모델의 의미
- 어떤 프로젝트는 모든 것을 빠짐없이 포괄하는 모델을 생성하려 시도하는 함정에 빠지며, 어디서든 통용되는 유일한 의미를 가진 이림의 개념에 대해 전체 조직이 모두 동의하는 결과를 목표로 삼지만, 모든 이해관계자로부터 모든 개념이 하나의 순수하고 구분된 글로벌한 의미를 갖는 것에 대해 동의를 얻기란 거의 불가능하다.
   - 책의 어카운트 예시
- 통합이 필요한 순간이라면 바운디드 컨텍스트들 사이의 매핑이 반드시 필요하다
   - 이는 DDD의 복잡도가 높게 나타나는 측면이며, 그에 상당하는 수준의 관리 노력을 필요로 한다
- '책의 수명주기' 예시
   - 책이 출판되고 배송되기까지는 다양한 단계가 있고, 각 단계에서 책은 다양한 의미를 가진다
   - 이런 과정에서의 혼돈을 해결하고자 DDD를 사용하는 출판사는 각 수명주기마다 개별적인 바운디드 컨텍스트를 사용한다
   - 바운디드 컨텍스트 안에 있는 팀에 책에 관해 말할 땐 해당 컨텍스트에서 요구한 의미와 정확히 같은 의미를 나타낸다

바운디드 컨텍스트 범위
- 도메인 모델만을 포함하진 않고, 시스템이나 애플리케이션 혹은 비즈니스 서비스를 표시해주기도 한다
- 바운디드 컨텍스트는 주로 유비쿼터스 언어와 그에 해당하는 도메인 모델을 캡슐화하지만, 이는 도메인 모델과의 상호작용과 도메인 모델의 지원을 위해 존재하는 다른 요소를 포함한다

바운디드 컨텍스트 크기
- 바운디드 컨텍스트는 완전한 유비쿼터스 언어를 표현하기 위해 필요한 크기만큼 커야 한다
- 진정한 핵심 도메인의 일부가 아닌 외부 개념은 제외돼야 한다.
   - 만약 어떤 개념이 유비쿼터스 언어 안에 들어있지 않다면, 애초에 모델에 들어오지 말아야 한다
- 잘못된 크기의 바운디드 컨텍스트를 만드는 이유는 무엇일까?
   1. 실수로 유비쿼터스 언어가 아니라 아키텍처적 영향을 기준으로 삼았을 수 있다 (언어적 경계 대신 기술적 경계)
   2. 가용한 개발자 리소스로 작업을 분배하기 위해 바운디드 컨텍스트를 나누는 문제
- 도메인 전문가가 이야기하는 언어에 따라 하나의 바운디드 컨텍스트로 자연스럽게 맞아떨어지는 개념을 담고 있는 핵심 도메인에 초점을 맞추자

바운디드 컨텍스트와 팀
- 만약 둘 이상의 구분된 팀을 하나의 바운디드 컨텍스트 안에 배치할 경우, 각 팀은 상이하고 잘못 정의된 유비쿼터스 언어를 만들 게 된다

## 샘플 컨텍스트
협업 컨텍스트
- 잘못 배치된 코드로 깊은 수령에 빠진 좋지 않은 상황으로부터 구해줄 최고의 DDD 패턴은?
   - 유비쿼터스 언어에 주의를 더욱 기울임으로써 현재의 모델을 개선
   - 도메인 전문가와 더 많은 시간을 보내면서 자신의 머릿속 모델과 더욱 가까운 모델은 만든다

