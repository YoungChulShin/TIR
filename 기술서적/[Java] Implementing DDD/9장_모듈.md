## 모듈로 설계하기
DDD 컨텍스트에서 모델안의 모듈의 목표
- 서로 간에 높은 응집도를 갖고 있는 도메인 객체를 담는 컨테이너 역할 수행
- 각기 다른 모듈 사이에 낮은 결합도를 유지하는 것

에반스 책에서의 모듈
- 응집력 있는 개념의 집합을 담을 수 있도록 모듈을 선택
- 유비쿼터스 언어의 한 부분을 이루는 이름을 부여하자

모듈 설계의 간단한 규칙
- 모델링 개념에 맞춰 모듈을 설계하자
- 유비쿼터스 언어에 맞춰서 모듈을 명명하자
- 모델에서 사용하는 일반적인 컴포넌트 타입이나 패턴에 따라서 기계적으로 모델을 생성하지 말자
- 느슨하게 결합된 모듈을 설계하자
- 결합이 필요하다면 짝이 되는 모듈사이에서 비순환적 의존성이 형성되도록 하자
- 자식 모듈과 부모 모듈 사이에 규칙은 느슨하게 하자
- 모듈을 정적인 개념에 따라 만들지 말고, 모듈이 담고 있는 객체에 맞추도록 하자

## 기본 모듈 명명 규칙
모듈의 이름은 계층적 형태를 반영한다
- 자바: com.saasovation
- C#: SaaSOvation

모듈 이름에서 다음으로 이어지는 부분은 바운디드 컨텍스트를 나타낸다.
- com.saasovation.collarboration

다음으로는 중요한 한정자를 덧붙인다. 이는 특정 모듈이 도메인 안에 있다는 점을 나타낸다.
- com.saasovation.collaboration.domain

한단계 더 내려가면 모델의 클래스가 정의되기 시작한다. 이 패키지 수준은 재사용 가능한 인터페이스와 추상 클래스를 포함할 수 있다.
- com.saasovation.collaboration.doamin.model
   - CurrrencySafeEntity
   - DomainEvent

도메인 서비스를 domain.model 모듈 밖에 두기를 선호한다면, 아래와 같이 짝을 만들 수 도 있다. 
- com.saasovation.collaboration.domain.service

모델과 서비스를 두 패키지로 나누지 않을 땐, model 모듈을 버리고 모든 모델 모듈을 domain 아래에 바로 둘 수도 있다.
- com.saasovation.identityaccess.domain.conceptname

## 애자일 프로젝트 관리 컨텍스트의 모듈
애자일 프로젝트 관리 컨텍스트
- product라는 이름의 부모모듈과 세 가지 자식 모듈을 갖는다
   - 부모: product
   - 자식: backlogitem, release, sprint
- 유비쿼터스 언어로 자연스럽게 모듈을 읽을 수 있다
- 4가지 모두를 product에 넣지 않은 이유는 60개에 달하는 클래스와 인터페이스를 하나의 모듈에 둔다면 너무 분주해질 뿐만 아니라 잘 정리되지 않은 느낌을 풍기기 때문이다. 

## 다른 계층 속의 모듈
어떤 아키텍처를 선택하든, 여러분은 항상 모델에 해당하지 않는 컴포넌트의 모듈을 생성하고 이름을 붙여야 한다. 

애플리케이션의 필요에 맞춘 각 계층별 컴포넌트의 유형에 따라 각 계층에 속하는 모듈도 달라지게 된다. 

사용자 인터페이스 계층과 레스트풀 리소스의 지원에 따른 예시
- GUI 지원의 경우 레스트풀 리소스는 표현을 만들 때 프레젠테이션 레이아웃을 포함시켜선 안된다.<br>
그 대신 마크업(XML, HTML)과 직렬화 포멧(XML, JSON)으로 작성된 단순한 표현만을 만들어야 한다
- 모듈
   - com.saasovation.agilepm.resources: 레스트풀 리소스 관리
   - com.saasovation.agilepm.resources.view: 표현에 관한 내용


애플리케이션 계층 예시
- 서로 다른 모듈을 포함할 수 있으며, 각 모듈마다 하나의 서비스타입을 다루도록 구성 가능하다
- 모듈
   - com.saasovation.agilepm.application.team
   - com.saasovation.agilepm.application.product
   - com.saasovation.agilepm.application.tenant
- 도움이 될 경우에만 하위 모듈로 나누며, 소수의 애플리케이션 서비스만 있다면 주 모듈안에 둔다

## 바운디드 컨텍스트보다 모듈
용어가 애매하고 컨텍스트적 경계를 만들지 여부가 분명치 않을 땐, 우선 하나로 유지하는 편을 고려하자
   - 이 접근법은 분리를 위해 두꺼운 바운디드 컨텍스트를 사용하는 대신, 좀 더 얇은 모듈의 경계를 활용한다. 

응집도 높은 도메인 객체를 모듈화하고 응집력이 없거나 낮은 객체를 분리하기 위해 모듈을 사용하자.