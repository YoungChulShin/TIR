# 다양한 연관관계 매핑
## 다대다
### PK 관리
@IdClass 사용
- 다대다 관계에서는 중간에서 연결 테이블이 필요하다
- 이 경우 이 테이블의 PK는 양쪽 테이블의 PK로 구성된다
- 이 때 코드에서는 식별자 클래스를 만들어줘야 한다
   ~~~java
   public class MemberProductId implements Serializable {

    private String member;
    private String product;

    @Override
    public int hashCode() {
        return super.hashCode();
    }

    @Override
    public boolean equals(Object obj) {
        return super.equals(obj);
    }
   }
   ~~~
- 이렇게 만든 식별자 클래스는 연결 테이블에서 사용한다
   ~~~java
   @Entity
   @IdClass(MemberProductId.class)
   public class MemberProduct {
   ~~~

고유 키 사용
- 사용의 편의성과 특정 비지니스에 의존하지 않기 위해서 Long 형 P.K를 만드는 것이 더 좋을 수 있다
- 이렇게 되면 양쪽 테이블의 P.K는 연결테이블에서 F.K로 동작한다