# Ch03. 다형성과 추상타입
### 다형성과 상속
다형성이란 한 객체가 여러 타입을 가질 수 있는 것을 뜻한다.

다형성은 인터페이스 상속과 구현 상속으로 구분할 수 있다.
- 인터페이스 상속
   - 타입 정의만을 상속받는 것. 자바의 인터페이스를 `implement` 하는 것. 
- 구현 상속
   - 클래스 상속을 통한 상속. 자바에서는 클래스를 `extends` 하는 것.
   - 부모 클래스의 구현을 재사용하면서 다형성도 함께 제공해준다.

### 추상화
추상화는 데이터나 프로세스등을 의미가 비슷한 개념이나 표현으로 정의하는 과정
- 추상화된 타입은 오퍼레이션의 시그니처만 정의할 뿐 실제 구현은 제공하지 못한다.

추상타입과 실제 구현클래스는 상속을 통해서 연결되는데, 이 책에서의 추상타입은 시그니처만 가지고 있기 때문에 구현클래스는 추상타입을 implement 한다.

추상타입을 사용할 때는 생성자 주입등을 통해서 런타임에 원하는 구현클래스를 연결해줄수 있는 장점이 있다. 이렇게 구현하지 않고 일반적으로 구현한다면 if/else를 통해서 분기를 사용할 것이다.<br>
생성자 타입을 사용하지 않고 객체를 생성하는 기능을 별도의 객체로 분리한뒤(Factory Class), 그 객체를 사용해서 생성하는 방법도 있다.
- 별도의 클래스를 사용할 경우 책임이 분리되기 때문에 변경이 발생할 때 영향을 받는 클래스를 한 쪽으로 몰 수 있다.

추상화를 할 때 한가지 팁은, 변화되는 부분을 추상화하는 것이다. 

인터페이스 사용
- 최초 설계에서 바로 도출되기 보다는, 요구사항의 변화와 함께 점진적으로 도출된다. 
- 유연함을 추구하는 과정에서 클래스가 추가될 수 있기 때문에, 모든 곳에 사용하기 보다는 변화 가능성이 높은 곳에 한해서 사용해야한다.
- 인터페이스를 작성할 때에는 그 인터페이스를 사용하는 코드 입장에서 작성해야한다. 그래야 더 의미를 명확하게 드러낼 수 있다.
- 테스트 코드를 작성할 때 인터페이스를 이용해서 별도로 분리되어 있다면, spec.이 정의된 상태이기 때문에 구현클래스가 만들어져있지 않더라도 Mock을 사용해서 테스트를 할 수 있다.