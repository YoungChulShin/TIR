## 애그리거트
애그리거트의 경계 설정
- 도메인 규칙에 따라 함께 생성되는 구성요소는 한 애그리거트에 속할 가능성이 높다
- 저자의 경험으로는 다수의 애그리거트가 한 개의 엔티티 객체만 갖는 경우가 많으며 두 개 이상의 엔티티로 구성되는 애그리거트는 드물게 존재한다

애그리거트 루트
- 애그리거트에 속한 모든 객체가 일관된 상태를 유지하려면 전체를 관리할 주체가 필요한데 이 책임을 지는 것이 루트엔티티이다
- 핵심은 애그리거트의 일관성이 깨지지 않도록 하는 것이다
- 애그리거트 루트가 아닌 다른 객체가 애그리거트에 속한 객체를 직접 변경해서는 안된다. 
- 규칙
   1. 단순히 필드를 변경하는 set은 public으로 만들지 않는다
   2. 밸류 타입은 불변으로 구현한다

트랜잭션의 범위
- 작을수록 좋다
- 한 트랜잭션에서는 한개의 애그리거트만 수정해야 한다. (=애그리거트가 다른 애그리거트를 변경하지 않는다는 것)
   - 부득이하게 한 트랜잭션에서 2개의 애그리거트를 수정해야 한다면 애그리거트에서 다른 애그리거트를 수정하지 말고, 응용서비스 영역에서 두 애그리거트를 수정하도록 한다. 
   - 도메인 이벤트와 비동기를 방식으로 해결 할 수도 있다.