# 5장. 책임 할당하기
## 01. 책임 주도 설계를 향해
핵심은 설계를 진행하는 동안 데이터가 아니라 객체의 책임과 협력에 초점을 맞춰야 한다

### 데이터보다 행동을 먼저 결정하라
객체의 무게 중심 이동 기법 (데이터 -> 책임)
- 객체를 설계하기 위한 질문의 순서를 변경
   1. "이 객체가 수행해야 하는 책임은 무엇인가?"
   2. "이 책임을 수행하는 데 필요한 대ㅔ이터는 무엇인가?"

### 협력이라는 문맥 안에서 책임을 결정하라
올바른 책임을 할당하기 위해서는 협력이라는 문맥을 고려해야 한다.

메시지와 객체의 순서
- 메시지를 결정한 후에 객체를 선택해야 한다. 메시지가 존재하기 때문에 그 메시지를 처리할 객체가 필요하기 때문이다
- 메시지 송신자 입장에서는 수신자를 알 수 없기 때문에 캡슐화된다

## 02. 책임 할당을 위한 GRASP 패턴

### 도메인 개념에서 출발하기
도메인 개념을 그려보고, 이 개념들을 책임 할당의 대상으로 사용하면 코드에 도메인의 모습을 투영하기가 좀 더 쉬워진다. 
- 완벽하게 정리하는 것이 필요하지는 않기 때문에, 개념 정리에 너무 많은 시간을 쓰지 말고 빠르게 설계와 구현을 진행해야 한다
- 도메인 모델은 도메인을 개념적으로 표현한 것이지만 그 안에 포함된 개념과 관계는 구현의 기반이 돼야 한다

### 정보 전문가에게 책임을 할당하라
객체에서 책임을 할당하는 첫번째 원칙은 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것이다. 
- Information Expert 패턴
   - 객체가 자율적인 존재여야 한다는 것을 한번 더 상기시키는데, 이는 정보를 알고 있는 객체만이 책임을 어떻게 수행할지 스스로 결정할 수 있기 때문이다
   - 필요한 정보를 가진 객체들로 책임이 분산되기 때문에 응집력있고 이해하기 쉬워진다

### 높은 응집도와 낮은 결합도
책임을 할당할 수 있는 다양한 대안들이 존재한다면 응집도와 결합도의 측면에서 더 나은 대안을 선택하는 것이 좋다. 

### 창조자에게 객체 생성 책임을 할당하라
Creator 패턴
- 객체 A를 생성해야 할 때 어떤 객체에게 객체 생성 책임을 할당해야 하는가? 아래 조건을 만족하는 B에게 생성 책임을 할당하라
   - B가 A객체를 포함하거나 참조한다
   - B가 A객체를 기록한다
   - B가 A객체를 긴밀하게 사용한다
   - B가 A객체를 초기화하는 데 필요한 데이터를 가지고 있다

## 04. 책임 주도 설계의 대안
책임과 객체 사이에서 방황할 때 돌파구를 찾는 방법
- 최대한 빠르게 목적한 기능을 수행하는 코드를 작성하는 것
- 아무것도 없는 상태에서 고민하기 보다는 일단 실행되는 코드를 만들고, 코드상에 나타나는 책임들을 올바른 위치로 이동시키는 것
- __주의할 점은 코드를 수정한 후에 겉으로 드러나는 동작이 바뀌어서는 안된다__

