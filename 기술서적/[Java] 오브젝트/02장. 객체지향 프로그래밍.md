# 2장. 객체지향 프로그래밍
## 01. 영화 예매 시스템
기능 설명
- 예매
- 할인
   - 할인 기준
      - 금액 할인 (일정 금액을 할인)
      - 비율 할인 (일정 비율을 할인)
   - 할인 조건
      - 순번 조건 (특정 순번을 할인)
      - 기간 조건 (특정 기간동안 할인)

## 02. 객체지향 프로그래밍을 향해
### 협력, 객체, 클래스
객체지향의 본질
- 대부분의 사람들은 클래스를 결정한 후에 클래스에 어떤 속성과 메서드가 필요한지 고민한다. 이는 객제지향의 본질과는 거리가 멀다
- 객체지향의 본질은 객체를 지향하는 것이다
- 이를 위해서 아래 2가지를 고민해야 한다
   1. 어떤 클래스가 필요한지를 고민하기 전에 어떤 객체들이 필요한지 고민하라
   2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 봐야 한다

### 도메인의 구조를 다르는 프로그램 구조
도메인
- 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 도메인이라고 부른다
- 영화 예매 시스템의 목적은 영화를 좀 더 쉽고 빠르게 예매하려는 사용자의 문제를 해결하는 것이다

도메인 구현
- 도메인 개념들을 구현하기 위해 클래스를 사용한다
- 클래스의 이름은 대응되는 도메인 개념의 이름과 동일하거나 적어도 유사하게 지어야 한다
- 클래스 사이의 관계도 최대한 도메인 개념 사이에 맺어진 관계와 유사하게 만들어서 프로그램의 구조를 이해하고 예상하기 쉽게 만들어야 한다
   ![2-3](/Images/오브젝트/2-3.png)

### 클래스 구현
자율적인 객체
- 객체는 상태와 행동을 가지는 복합적인 존재
   - 캡슐화, 접근제어
- 객체는 스스로 판단하고 행동하는 자율적인 존재
- 퍼블릭 인터페이스를 이용해서 외부에서 접근 가능한 부분을 구현하고, 내부에서 이를 구현하는 코드를 둔다

### 협력하는 객체들의 공동체
- 예시에서의 Money 타입
- 장점
   - Long으로도 구현할 수 있는 금액관련 선언을 Money로 선언함으로써 금액과 관련이 되어 있다는 명확한 의미를 전달할 수 있다
   - 금액 관련 로직이 서로 다른 곳에 중복 구현된어 있는 것을 막을 수 있다
- 비록 개념이 하나의 인스턴스 변수만 포함하더라도 개념을 명시적으로 표현하는 것은 전체적인 설계의 명확성과 유연성을 높이는 첫걸임이다

### 협력에 대한 짧은 이야기
- 객체는 메시지를 전송, 수신하는 방법으로 서로 상호작용을 한다
- 수신된 메시지를 처리하는 방법을 메서드(method)라고 한다
- 메서드를 전송한다는 표현
   - `Screening -> Movie` 의 흐름을 보자
   - 지금까지는 Screening이 Movie의 calcuateMovieFee 메서드를 호출한다고 말했다
   - 사실은 Screening이 Movie에게 calcuateMovieFee 메시지를 전송한다는 말이 더 적합하다
- 메시지를 수신한 객체는 스스로 적절한 메서드를 선택한다. (=_구현과 인터페이스의 분리_)


## 03. 할인 요금 구하기
![2-6](/Images/오브젝트/2-6.png)

```java
Movie avatar = new Movie(
   "아바타",
   Money.wons(1000),
   new AmountDiscountPolicy(
      Money.wons(800),
      new SequenceConditon(1),
      new SequenceConditon(10),
      new PeriodCondition(....),
      new PeriodCondition(....)
      )
);
```


## 04. 상속과 다형성

## 05. 추상화와 유연성