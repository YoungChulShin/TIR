# 복제 지연
복제 지연 (replication lag)
- 원본 인스턴스에서 쓰기가 발생하는 시간과 해당 쓰기가 복제본에서 적용되는 시간 사이의 지연.

## 복제 유형
source to replica (=원복에서 복제본으로)
- 기본 복제 유형

group replication

### source to replica
복제 지연에 대한 기초
- 그림
   ![7-1](/[SQL]%20mysql%20성능최적화%20선택과%20집중/images/7-1.jpg)
   1. 원본에서 트랜잭션이 커밋되면 바이너리 로그에 기록된다.
      - 바이너리 로그: 바이너리 로그 이벤트의 데이터 변경 사항을 기록하는 디스크에 있는 파일.
      - 데이터 변경: 행, 인덱스, 스키마 등에 대한 수정사항.
   2. 복제본의 IO 스레드는 원복 바이너리 로그에서 로그 이벤트를 덤프한다. 
   3. 복제본의 IO 스레드는 바이너리 로그 이벤트를 릴레이 로그에 기록한다. 
   4. SQL 스레드는 릴레이 로그에서 로그 이벤트를 읽는다. 
   5. SQL 스레드는 바이너리 로그 이벤트를 복제본 데이터에 적용한다. 
   6. 복제본은 변경 사항을 바이너리 로그에 기록한다. 
      - failover로 인해서 복제본이 원본으로 승격될 수 있기 때문에 기록한다. 

mysql 복제는 '비동기식' 복제가 기본이다. 

### 바이너리 로그 이벤트
