# 동시 성능 기법
잘만든 애플리케이션은 멀티코어에 애플리케이션 부하를 고루 분산해서 처리할 수 있다. JVM 같은 애플리케이션 실행 플랫폼음 JIT 컴파일처럼 여러 프로세서 코어를 십분 활용할 수 있는 VM 스레드가 항상 떠 있다.

## 병렬성이란
### 자바 동시성 기초
아래 코드는 멀티스레드 환경에서는 값이 잘못 계산될 수 있다
```java
public class Counter {
    private int i = 0;

    public int increment() {
        // 컴파일 이후에 바이트코드를 보면 'i = i + 1' 코드는 3번의 연산으로 이루어진다
        // 1. i를 읽어온다
        // 2. i에 1을 더한다
        // 3. i를 쓴다
        // 
        // 멀티스레드 환경에서 1이 동시에 수행된다면 최종 결과가 잘못 계산 될 수 있다
        return i = i + 1;
    }   
}
```
- `voatile`을 사용한다고 해도 이 부분은 막을 수 없다. volatile은 가장 최신의 값을 읽어오는 것까지 보장한다. 

Java5 이전에는 synchonized가 유일했는데, synchonized만 추가하면 오히려 성능이 느려질 수도 잇기 때문에 신중히 접근해야한다. 

### 동시성 라이브러리 구축
Java5부터는 언어 수준에서 지원하는 기능에서 탈피해서 고급 동시성 라이브러리와 툴을 자바 클래스라이브러리의 일부로 표준화하려는 움직임이 확산되는 추세이다. 

