## 1.1 카프카의 탄생 배경
카프카란
- 대용량, 대규모 메시지 데이터를 빠르게 처리하도록 개발된 메시징 플랫폼
- 링크드인에서 출발해 2011년 초 아파치 공식 오픈소스로 세상에 공개
- 빅데이터를 분석할 때 여러 스토리지와 분석 시스템에 데이터를 연결하기 위한 필수 도구로 인식되어 도입하는 기업이 늘어나고 있다

링크드인에서 등장 배경
- 액티브엠큐 같은 메시지큐를 이용했는데, 성능 문제로 어려움을 겪음
- end-to-end 연결 방식의 문제
   1. OLTP 처리와 비동기 처리가 동시에 이뤄지지만 통합된 전송 영역이 없으니 복잡도가 증가
   2. 데이터 파이프라인 관리의 어려움
      - 각 부서마다 별도의 파이프라인을 구축해서 사용중인데, 이를 통합해서 사용하는 시점에서 어려움이 발생
- 이를 개선하기 위한 새로운 프로젝트의 목표
   - 프로듀서와 컨슈머의 분리
   - 메시징 시스템과 같이 영구 메시지 데이터를 여러 컨슈머에게 허용
   - 높은 처리량을 위한 메시지 최적화
   - 데이터가 증가함에 따라 스케일아웃이 가능한 시스템
- 카프카를 이용한 링크드인의 데이터 처리 시스템
   - ![1-3](/Images/카프카/1-3.jpg)

## 1.2 카프카의 동작 방식과 원리
카프카의 동작 방식
- 기본적으로 메시징 서버로 동작
- Pub/Sub 모델 (중앙에 메시지 시스템 서버를 두고 메시지를 보내고 받는 형태의 통신)
- Pub/Sub 모델의 통신 방식
   - ![1-7](/Images/카프카/1-7.jpg)
- 카프카의 아키텍처
   - ![1-8](/Images/카프카/1-8.jpg)

## 1.3 카프카의 특징
카프카의 특징
1. 프로듀서와 컨슈머의 분리
   - 각각의 서비스는 시스템의 상태 유무와 상관없이 카프카로 메d시지를 보내는 역할만 하면 된다
   - 서비스를 사용하는 시스템들도 카프카에 저장된 메시지만 가져오면 된다
2. 멀티 프로듀서, 멀티 컨슈머
   - 하나 이상의 토픽으로 메시지를 보낼 수 있다
3. 디스크에 메시지 저장
   - 트래픽이 폭주해서 컨슈머의 처리가 늦어지더라도 카프카의 디스크에 보관되어 있기 때문에 컨슈머는 메시지 손실없이 메시지를 가져갈 수 있다
4. 확장성
5. 높은 성능

카프카 용어 정리
- 카프카(Kafka): 아파치 프로젝트 애플리케이션 이름
- 브로커(Broket): 카프카 애플리케이션이 설치되어 있는 서버 또는 노드
- 토픽(Topic): 프로듀서와 컨슈머들이 카프카로 보낸 자신들의 메시지를 구분하기 위한 네임으로 사용
- 파티션(Partition): 병럴처리가 가능하도록 토픽을 나눌 수 있고, 많은 양의 메시지 처리를 위해서 파티션의 수를 늘려줄 수 있다
- 프로듀서(Producer): 메시지를 생산하여 브로커의 토픽 이름으로 보내는 서버 또는 애플르케이션
- 컨슈머(Consumer): 브로커의 토픽 이름으로 저장된 메시지를 가져가는 서버 또는 애플리케이션

## 1.4 카프카의 확장과 발전
넷플릭스 데이터 파이프라인
- ![1-14](/Images/카프카/1-14.png)

