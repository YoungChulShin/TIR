# 아이템 34: int 상수 대신 열거 타입을 사용하라
열거타입을 지원하기 전에는 정수 상수를 한 묶음 선언해서 사용하곤 했다.

열거타입 특징
- 열거타입 자체는 클래스
- 상수 하나당 자신의 인스턴스를 하나씩 만들어서 `public static final` 로 공개한다.
- 밖에서 접근할 수 있는 생성자를 제공하지 않으므로 사실상 final이다. 클라이언트가 인스턴스를 생성하거나 확장할 수 없기 때문에 인스턴스들은 딱 1개만 존재한다
   - 싱글턴은 원소가 하나뿐인 열거타입이라 할 수 있고, 열거타입은 싱글턴을 일반화한 형태이다
- 임의의 메서드나 필드를 추가할 수 있고 임의의 인터페이스를 구현하게 할 수도 있다

열거 타입 상수 각각을 특정 데이터와 연결지으려면 생성자에서 데이터를 받아 인스턴스 필드에 저장하면 된다.

널리쓰이는 열거타입은 톱레벨 클래스로 구현하고, 특정 롭레벨 클래스에서만 쓰인다면 해당 클래스의 멤버 클래스로 만든다.

기본 제공 함수
 - values(): 정의된 상수들을 배열에 담아서 응답
 - name(): 이름을 제공
 - valueOf(): 상수 이름을 받아서 이름에 해당하는 상수를 반환

상수마다 동작이 달라져야하는경우 switch 문 대신, 상수별 메서드 구현 방법을 이용한다
- switch 예시
   ```java
   PLUS, MINUS, TIMES, DIVIDE;

   public double apply(double x, double y) {
    switch (this) {
      case PLUS: return x + y;
      case MINUS: return x - y;
      case TIMES: return x * y;
      case DIVIDE: return x / y;
    }
    throw new AssertionError("알 수 없는 연산: " + this);
  }
   ```
- 상수별 메서드 구현 예시
   ```java
  PLUS("+") {public double apply(double x, double y) {return x + y;}},
  MINUS("-") {public double apply(double x, double y) {return x - y;}},
  TIMES("*") {public double apply(double x, double y) {return x * y;}},
  DIVIDE("/") {public double apply(double x, double y) {return x / y;}};

  private final String symbol;

  Operation2(String symbol) {
    this.symbol = symbol;
  }

  public abstract double apply(double x, double y);
   ```

# 아이템 35: ordinal() 메서드 대신 사용하라
enum에서는 각 항목의 순서를 반환하는 `ordinal()` 메서드를 제공한다. 하지만 이 메서드는 동적인 순서를 반환하기 때문에 항목의 순서가 변경되면 값이 변경된다. 
```java
Ensemble.SOLO.ordinal()
```

이 대신 순서 값을 가지는 inter 변수를 할당하고 관리하는것을 추천한다. 

# 아이템 36: 비트 필드 대신 EnumSet을 사용하라
정수 열거 패턴을 사용할 때 값이 겹치지 않는 것을 막기 위해서 겹치지 않는 정수 값을 할당해서 처리한 이력이 있다. 
- 리눅스의 권한을 1,2,4의 조합으로해서 1개의 수로 겹치지 않는 조합을 표현할 수 있는데 이것과 같은 개념이라고 할 수 있다.

enum을 사용하면 EnumSet을 사용해서 처리할 수 있기 때문에 굳이 과거처럼 구현을 할 필요가 없다. Set을 구현하기 때문에 인자가 겹칠 가능성도 없다. 
```java
// 구현부
public enum Style { BOLD, ITALIC, UNDERLINE, STRIKETHROUGH}

  public void applyStyles(Set<Style> styleSet) {
    styleSet.forEach(x -> System.out.println(x.name()));
  }

// 호출부
text.applyStyles(EnumSet.allOf(Style.class));
text.applyStyles(EnumSet.of(Style.BOLD, Style.ITALIC));
```

